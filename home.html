<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>Flègo · Home</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <meta name="description" content="Flègo · Sorsi &amp; Morsi – Pub, taglieri, burger, birre e cocktail.">
    
    <!-- Meta tag iOS (PWA/Home Screen) -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Flègo">
    <link rel="apple-touch-icon" href="logo.png">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#FFC928">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="logo.ico">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://flegopub.github.io/home.html">
    
    <!-- Preconnect per CDN esterni (performance) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://flegopub.github.io/home.html">
    <meta property="og:title" content="Flègo · Sorsi & Morsi">
    <meta property="og:description" content="Pub, taglieri, burger, birre e cocktail a due passi dallo stadio. Piazza Gabriele D'Annunzio, 11/14, 80125 Napoli (NA)">
    <meta property="og:image" content="https://flegopub.github.io/logo.png">
    <meta property="og:locale" content="it_IT">
    <meta property="og:site_name" content="Flègo · Sorsi & Morsi">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://flegopub.github.io/home.html">
    <meta name="twitter:title" content="Flègo · Sorsi & Morsi">
    <meta name="twitter:description" content="Pub, taglieri, burger, birre e cocktail a due passi dallo stadio. Piazza Gabriele D'Annunzio, 11/14, 80125 Napoli (NA)">
    <meta name="twitter:image" content="https://flegopub.github.io/logo.png">
    
    <!-- Meta tag per disabilitare la cache del browser -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <link rel="stylesheet" href="style.css">
    <!-- Preload font critico Montserrat -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" as="style">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome per le icone social -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body class="home-body">
    <div class="page">
        <header class="hero">
            <div class="hero-top">
                <img src="logo.png" alt="Flègo · Sorsi &amp; Morsi" class="logo">
            </div>
            <div class="hero-text">
                <p class="hero-welcome">BENVENUTI AL</p>
                <p class="hero-name">FLÈGO</p>
                <p class="hero-subtitle">Sorsi &amp; morsi a due passi dallo stadio</p>
            </div>
        </header>

        <main class="content">
            <section class="cards">
                <!-- Taglieri -->
                <a href="taglieri.html" class="card card--food">
                    <div class="card-inner">
                        <div class="card-text-block">
                            <h2 class="card-title">Taglieri Flègo</h2>
                            <p class="card-subtitle">Bruschette, frittatine e fritti da condividere.</p>
                        </div>
                        <div class="card-arrow">
                            <span>&#8594;</span>
                        </div>
                    </div>
                </a>

                <!-- Frittatine -->
                <a href="frittatine.html" class="card card--food">
                    <div class="card-inner">
                        <div class="card-text-block">
                            <h2 class="card-title">Frittatine piccole</h2>
                            <p class="card-subtitle">Tutti i gusti delle nostre frittatine.</p>
                        </div>
                        <div class="card-arrow">
                            <span>&#8594;</span>
                        </div>
                    </div>
                </a>

                <!-- Piccoli morsi -->
                <a href="piccoli-morsi.html" class="card card--food">
                    <div class="card-inner">
                        <div class="card-text-block">
                            <h2 class="card-title">Piccoli morsi fatti in casa</h2>
                            <p class="card-subtitle">Polpette, nuggets e patatine fritte fresche.</p>
                        </div>
                        <div class="card-arrow">
                            <span>&#8594;</span>
                        </div>
                    </div>
                </a>

                <!-- Panini -->
                <a href="panini.html" class="card card--food">
                    <div class="card-inner">
                        <div class="card-text-block">
                            <h2 class="card-title">Panini</h2>
                            <p class="card-subtitle">I panini del Flègo.</p>
                        </div>
                        <div class="card-arrow">
                            <span>&#8594;</span>
                        </div>
                    </div>
                </a>

                <!-- Primi, secondi e contorni -->
                <a href="primi-secondi-contorni.html" class="card card--food">
                    <div class="card-inner">
                        <div class="card-text-block">
                            <h2 class="card-title">Primi, secondi e contorni</h2>
                            <p class="card-subtitle">Le proposte della nostra cucina.</p>
                        </div>
                        <div class="card-arrow">
                            <span>&#8594;</span>
                        </div>
                    </div>
                </a>

                <!-- Birre e altre bevande -->
                <a href="birre-altre-bevande.html" class="card card--food">
                    <div class="card-inner">
                        <div class="card-text-block">
                            <h2 class="card-title">Birre e altre bevande</h2>
                            <p class="card-subtitle">Proposte alla spina e Kbirr in bottiglia.</p>
                        </div>
                        <div class="card-arrow">
                            <span>&#8594;</span>
                        </div>
                    </div>
                </a>

                <!-- Vini -->
                <a href="vini.html" class="card card--food">
                    <div class="card-inner">
                        <div class="card-text-block">
                            <h2 class="card-title">Vini</h2>
                            <p class="card-subtitle">Rossi, bianchi e vini al calice.</p>
                        </div>
                        <div class="card-arrow">
                            <span>&#8594;</span>
                        </div>
                    </div>
                </a>

                <!-- Cocktail -->
                <a href="cocktails.html" class="card card--food">
                    <div class="card-inner">
                        <div class="card-text-block">
                            <h2 class="card-title">Cocktail</h2>
                            <p class="card-subtitle">Classici e analcolici.</p>
                        </div>
                        <div class="card-arrow">
                            <span>&#8594;</span>
                        </div>
                    </div>
                </a>
            </section>

            <section class="info-block contact-block">
                <h2 class="contact-title">Dove siamo e orari</h2>
                <p class="contact-address">
                    Flègo · Sorsi &amp; Morsi<br>
                    Piazza Gabriele D'Annunzio, 11/14, 80125 Napoli (NA)
                </p>
                <div class="contact-grid">
                    <div class="contact-col">
                        <p class="contact-label">Orari</p>
                        <p class="contact-value">
                            Lunedì: 12:00–15:30<br>
                            Martedì: 12:00–00:00<br>
                            Mercoledì: 12:00–00:00<br>
                            Giovedì: 12:00–00:00<br>
                            Venerdì: 12:00–01:00<br>
                            Sabato: 17:30–01:00<br>
                            Domenica: chiuso
                        </p>
                    </div>
                    <div class="contact-col">
                        <p class="contact-label">Dove</p>
                        <p class="contact-value">
                            Piazza Gabriele D'Annunzio, 11/14, 80125 Napoli (NA)
                        </p>
                        <a class="contact-map-link" href="https://www.google.com/maps/search/?api=1&query=Piazza%20Gabriele%20D%27Annunzio%2011%2F14%2080125%20Napoli%20NA" target="_blank" rel="noopener">
                            <i class="fas fa-location-dot"></i>
                            Apri su Google Maps
                        </a>
                    </div>
                </div>
            </section>

            <footer class="site-footer">
                <div class="footer-bottom">
                    <p>&copy; <span id="year"></span> Flègo. Tutti i diritti riservati.</p>
                    <p class="footer-designed">
                        Designed by <a href="autore.html" class="footer-author-link">MeStesso</a>
                    </p>
                    <p class="footer-designed" style="margin-top: 0.3rem;">
                        <a href="policy.html" class="footer-author-link">Policy</a> • P.I. 07797121212
                    </p>
                </div>
            </footer>
            <!-- Barra fissa in basso -->
            <div class="bottom-bar">
                <a href="https://wa.me/393207682949" class="bottom-bar-btn bottom-bar-btn--wa" target="_blank" rel="noopener">
                    <i class="fab fa-whatsapp"></i>
                    <span>WhatsApp</span>
                </a>
                <a href="https://www.instagram.com/flego_official/" class="bottom-bar-btn bottom-bar-btn--ig" target="_blank" rel="noopener">
                    <i class="fab fa-instagram"></i>
                    <span>Instagram</span>
                </a>
                <a href="tel:+393207682949" class="bottom-bar-btn bottom-bar-btn--call">
                    <i class="fas fa-phone"></i>
                    <span>Chiama</span>
                </a>
            </div>

        </main>
    </div>

    
        <button class="scroll-top" aria-label="Torna all'inizio">
        <i class="fas fa-chevron-up"></i>
    </button>

</div>

    <!-- Structured Data (Schema.org) -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Restaurant",
        "name": "Flègo · Sorsi & Morsi",
        "image": "https://flegopub.github.io/logo.png",
        "description": "Pub, taglieri, burger, birre e cocktail a due passi dallo stadio",
        "address": {
            "@type": "PostalAddress",
            "streetAddress": "Piazza Gabriele D'Annunzio, 11/14",
            "addressLocality": "Napoli",
            "postalCode": "80125",
            "addressRegion": "NA",
            "addressCountry": "IT"
        },
        "telephone": "+393207682949",
        "url": "https://flegopub.github.io/",
        "servesCuisine": "Italiana, Pub Food",
        "priceRange": "€€",
        "openingHoursSpecification": [
            {
                "@type": "OpeningHoursSpecification",
                "dayOfWeek": "Monday",
                "opens": "12:00",
                "closes": "15:30"
            },
            {
                "@type": "OpeningHoursSpecification",
                "dayOfWeek": ["Tuesday", "Wednesday", "Thursday"],
                "opens": "12:00",
                "closes": "00:00"
            },
            {
                "@type": "OpeningHoursSpecification",
                "dayOfWeek": "Friday",
                "opens": "12:00",
                "closes": "01:00"
            },
            {
                "@type": "OpeningHoursSpecification",
                "dayOfWeek": "Saturday",
                "opens": "17:30",
                "closes": "01:00"
            }
        ],
        "sameAs": [
            "https://www.instagram.com/flego_official/",
            "https://wa.me/393207682949"
        ]
    }
    </script>

        <script>
        // aggiorna anno nel footer
        document.getElementById('year').textContent = new Date().getFullYear();

        // scroll to top button
        (function() {
            const btn = document.querySelector('.scroll-top');
            if (!btn) return;
            
            // click handler
            btn.addEventListener('click', function () {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
            
            // mostra/nascondi bottone in base allo scroll
            const scrollThreshold = 200; // pixel di scroll prima di mostrare il bottone
            
            window.addEventListener('scroll', function() {
                const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                
                if (scrollTop > scrollThreshold) {
                    btn.classList.add('visible');
                } else {
                    btn.classList.remove('visible');
                }
            });
        })();

        // Effetto fade-out al testo hero quando si scrolla
        (function() {
            const heroText = document.querySelector('.hero-text');
            if (!heroText) return;

            let lastScrollTop = 0;
            const scrollThreshold = 50; // pixel di scroll prima di attivare l'effetto

            window.addEventListener('scroll', function() {
                const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                
                if (scrollTop > scrollThreshold) {
                    heroText.classList.add('fade-out');
                } else {
                    heroText.classList.remove('fade-out');
                }
                
                lastScrollTop = scrollTop;
            });
        })();

        // Registrazione Service Worker
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/service-worker.js')
                    .then(function(registration) {
                        console.log('Service Worker registrato con successo:', registration.scope);
                    })
                    .catch(function(error) {
                        console.log('Registrazione Service Worker fallita:', error);
                    });
            });
        }
    </script>
    
    <!-- Sfondo birra animato -->
    <div class="beer-background">
        <svg id="beer-svg-bg" viewBox="0 0 220 300" role="img" aria-label="Birra 2D con schiuma e bollicine (trasparente)"></svg>
    </div>
    
    <script>
        // Script per creare e animare la birra di sfondo
        (function() {
            const beerBg = document.querySelector('.beer-background');
            if (!beerBg) return;
            
            const svg = beerBg.querySelector('svg');
            const svgNS = "http://www.w3.org/2000/svg";
            
            // Genera ID unici per evitare conflitti
            const uniqueId = 'bg-beer-' + Date.now() + '-' + Math.random().toString(36).substr(2, 9);
            const beerBodyClipId = uniqueId + '-bodyClip';
            const beerClipId = uniqueId + '-clip';
            const beerGradId = uniqueId + '-grad';
            
            // Crea defs
            const defs = document.createElementNS(svgNS, "defs");
            
            const beerBodyClip = document.createElementNS(svgNS, "clipPath");
            beerBodyClip.setAttribute("id", beerBodyClipId);
            const rect1 = document.createElementNS(svgNS, "rect");
            rect1.setAttribute("x", "64");
            rect1.setAttribute("y", "56");
            rect1.setAttribute("width", "92");
            rect1.setAttribute("height", "190");
            rect1.setAttribute("rx", "16");
            beerBodyClip.appendChild(rect1);
            defs.appendChild(beerBodyClip);
            
            const beerClip = document.createElementNS(svgNS, "clipPath");
            beerClip.setAttribute("id", beerClipId);
            const rect2 = document.createElementNS(svgNS, "rect");
            rect2.setAttribute("x", "64");
            rect2.setAttribute("y", "82");
            rect2.setAttribute("width", "92");
            rect2.setAttribute("height", "164");
            rect2.setAttribute("rx", "16");
            beerClip.appendChild(rect2);
            defs.appendChild(beerClip);
            
            const beerGrad = document.createElementNS(svgNS, "linearGradient");
            beerGrad.setAttribute("id", beerGradId);
            beerGrad.setAttribute("x1", "0");
            beerGrad.setAttribute("y1", "0");
            beerGrad.setAttribute("x2", "0");
            beerGrad.setAttribute("y2", "1");
            const stop1 = document.createElementNS(svgNS, "stop");
            stop1.setAttribute("offset", "0");
            stop1.setAttribute("stop-color", "var(--beer1)");
            const stop2 = document.createElementNS(svgNS, "stop");
            stop2.setAttribute("offset", ".55");
            stop2.setAttribute("stop-color", "var(--beer2)");
            const stop3 = document.createElementNS(svgNS, "stop");
            stop3.setAttribute("offset", "1");
            stop3.setAttribute("stop-color", "var(--beer3)");
            beerGrad.appendChild(stop1);
            beerGrad.appendChild(stop2);
            beerGrad.appendChild(stop3);
            defs.appendChild(beerGrad);
            
            svg.appendChild(defs);
            
            // Crea gruppo principale
            const beerSlosh = document.createElementNS(svgNS, "g");
            beerSlosh.setAttribute("class", "beer-slosh");
            
            // Gruppo body con clip-path
            const beerBodyGroup = document.createElementNS(svgNS, "g");
            beerBodyGroup.setAttribute("clip-path", "url(#" + beerBodyClipId + ")");
            
            const beerRect = document.createElementNS(svgNS, "rect");
            beerRect.setAttribute("x", "64");
            beerRect.setAttribute("y", "98");
            beerRect.setAttribute("width", "92");
            beerRect.setAttribute("height", "148");
            beerRect.setAttribute("rx", "16");
            beerRect.setAttribute("fill", "url(#" + beerGradId + ")");
            beerBodyGroup.appendChild(beerRect);
            
            const path = document.createElementNS(svgNS, "path");
            path.setAttribute("d", "M76 92 C86 120, 78 190, 92 236");
            path.setAttribute("fill", "none");
            path.setAttribute("stroke", "rgba(255,255,255,.18)");
            path.setAttribute("stroke-width", "10");
            path.setAttribute("stroke-linecap", "round");
            beerBodyGroup.appendChild(path);
            
            const bubblesGroup = document.createElementNS(svgNS, "g");
            bubblesGroup.setAttribute("clip-path", "url(#" + beerClipId + ")");
            beerBodyGroup.appendChild(bubblesGroup);
            
            beerSlosh.appendChild(beerBodyGroup);
            
            // Gruppo schiuma
            const foamBob = document.createElementNS(svgNS, "g");
            foamBob.setAttribute("class", "foam-bob");
            
            const foamPath = document.createElementNS(svgNS, "path");
            foamPath.setAttribute("d", "M60 84 C70 68, 90 72, 100 60 C112 46, 128 54, 140 62 C152 70, 170 66, 164 84 L164 98 C152 100, 140 96, 128 100 C116 104, 104 100, 92 102 C80 104, 70 100, 60 98 Z");
            foamPath.setAttribute("fill", "var(--foam)");
            foamBob.appendChild(foamPath);
            
            const circles = [
                {cx: 82, cy: 78, r: 6, opacity: 0.95},
                {cx: 120, cy: 70, r: 8, opacity: 0.98},
                {cx: 145, cy: 80, r: 5, opacity: 0.92},
                {cx: 104, cy: 86, r: 4, opacity: 0.9}
            ];
            
            circles.forEach(function(c) {
                const circle = document.createElementNS(svgNS, "circle");
                circle.setAttribute("cx", c.cx);
                circle.setAttribute("cy", c.cy);
                circle.setAttribute("r", c.r);
                circle.setAttribute("fill", "var(--foam)");
                circle.setAttribute("opacity", c.opacity);
                foamBob.appendChild(circle);
            });
            
            beerSlosh.appendChild(foamBob);
            svg.appendChild(beerSlosh);
            
            // Genera le bollicine
            const MIN_X = 72, MAX_X = 148;
            const BASE_Y = 238;
            const COUNT = 26;
            
            function rand(min, max) { return Math.random() * (max - min) + min; }
            
            for(let i = 0; i < COUNT; i++) {
                const c = document.createElementNS(svgNS, "circle");
                const r = rand(1.8, 5.2);
                const x = rand(MIN_X, MAX_X);
                const y = rand(BASE_Y - 10, BASE_Y + 18);
                const dur = rand(1.6, 3.4);
                const delay = rand(0, 2.8);
                
                c.setAttribute("cx", x.toFixed(2));
                c.setAttribute("cy", y.toFixed(2));
                c.setAttribute("r", r.toFixed(2));
                c.setAttribute("fill", "var(--bubble)");
                c.classList.add("bubble");
                c.style.animationDuration = dur.toFixed(2) + "s";
                c.style.animationDelay = (-delay).toFixed(2) + "s";
                c.style.opacity = rand(0.35, 0.9).toFixed(2);
                
                bubblesGroup.appendChild(c);
            }
        })();
    </script>
    
    <script>
        // Animazione dello sfondo birra basata sullo scroll
        (function() {
            const beerBg = document.querySelector('.beer-background');
            if (!beerBg) return;
            
            const beerSlosh = beerBg.querySelector('.beer-slosh');
            const foamBob = beerBg.querySelector('.foam-bob');
            
            // Disabilita le animazioni di default
            if (beerSlosh) beerSlosh.style.animationPlayState = 'paused';
            if (foamBob) foamBob.style.animationPlayState = 'paused';
            
            let isScrolling = false;
            let scrollTimeout;
            
            function updateBeerPosition() {
                const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                const documentHeight = document.documentElement.scrollHeight;
                const viewportHeight = window.innerHeight;
                const maxScroll = documentHeight - viewportHeight;
                
                if (maxScroll <= 0) {
                    // Nessuno scroll disponibile, centra lo sfondo
                    beerBg.style.top = '50%';
                    beerBg.style.transform = 'translate(-50%, -50%) scale(3.0)';
                    return;
                }
                
                // Calcola la percentuale di scroll (0 = top, 1 = bottom)
                const scrollPercent = scrollTop / maxScroll;
                
                // Quando scrollPercent = 0 (top pagina): top = 100vh (bottom)
                // Quando scrollPercent = 1 (bottom pagina): top = 0vh (top)
                const topPosition = 100 - (scrollPercent * 100);
                
                // Applica la nuova posizione
                beerBg.style.top = topPosition + 'vh';
                beerBg.style.transform = 'translate(-50%, 0) scale(3.0)';
            }
            
            function startScrollAnimation() {
                isScrolling = true;
                if (beerSlosh) beerSlosh.style.animationPlayState = 'running';
                if (foamBob) foamBob.style.animationPlayState = 'running';
                
                // Reset del timeout
                clearTimeout(scrollTimeout);
            }
            
            function stopScrollAnimation() {
                isScrolling = false;
                if (beerSlosh) beerSlosh.style.animationPlayState = 'paused';
                if (foamBob) foamBob.style.animationPlayState = 'paused';
            }
            
            // Aggiorna la posizione all'avvio
            updateBeerPosition();
            
            // Aggiorna la posizione durante lo scroll con throttling per performance
            let ticking = false;
            window.addEventListener('scroll', function() {
                startScrollAnimation();
                
                if (!ticking) {
                    window.requestAnimationFrame(function() {
                        updateBeerPosition();
                        ticking = false;
                    });
                    ticking = true;
                }
                
                // Ferma l'animazione dopo che lo scroll si ferma
                clearTimeout(scrollTimeout);
                scrollTimeout = setTimeout(stopScrollAnimation, 150);
            });
            
            // Aggiorna anche quando la finestra viene ridimensionata
            window.addEventListener('resize', function() {
                updateBeerPosition();
            });
        })();
    </script>
</body>
</html>
